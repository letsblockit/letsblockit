title: Cleanup Google search result pages
params:
  - name: rich-results
    description: Hide most rich-content results (images, stories, businesses...)
    type: checkbox
    default: true
  - name: related-questions
    description: Hide the "People also ask" contextual content
    type: checkbox
    default: true
  - name: related-searches
    description: Hide the "Related searches" bottom content
    type: checkbox
    default: true
  - name: also-search
    description: Hide the "People also search for" popup shown when returning to results
    type: checkbox
    default: true
  - name: similar-image-searches
    description: Hide the "Similar searches" contextual content in image searches
    type: checkbox
    default: true
  - name: page-footer
    description: Hide the search page footer showing your address
    type: checkbox
    default: false
tags:
  - google
template: |
  {{#if rich-results}}
  !!! Toplevel rich content above columns
  google.*###rcnt > div:first-of-type:not([id]) > div:has(g-more-link,g-scrolling-carousel)
  !!! Rich content in normal pages
  google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(g-more-link,g-section-with-header)
  !!! "Find results on" carousel
  google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(div[role="heading"]+g-scrolling-carousel)
  !!! Rich content in new "kp" layout
  google.*###kp-wp-tab-overview > div:has(g-more-link,g-section-with-header,#media_result_group)
  {{/if}}
  {{#if related-questions}}
  google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(div.related-question-pair)
  google.*###kp-wp-tab-overview > div:has(div.related-question-pair)
  {{/if}}
  {{#if related-searches}}
  google.*###botstuff #bres
  {{/if}}
  {{#if also-search}}
  google.*###rso div.g div[jscontroller][id^="eob_"]
  {{/if}}
  {{#if similar-image-searches}}
  google.*##div.isv-r[data-rfg]
  {{/if}}
  {{#if page-footer}}
  google.*###footcnt > #fbarcnt
  {{/if}}
tests:
  - params: {}
    output: ""
  - params:
      related-questions: true
      related-searches: true
    output: |
      google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(div.related-question-pair)
      google.*###kp-wp-tab-overview > div:has(div.related-question-pair)
      google.*###botstuff #bres
  - params:
      rich-results: true
    output: |
      !!! Toplevel rich content above columns
      google.*###rcnt > div:first-of-type:not([id]) > div:has(g-more-link,g-scrolling-carousel)
      !!! Rich content in normal pages
      google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(g-more-link,g-section-with-header)
      !!! "Find results on" carousel
      google.*###rso:not(:has(#kp-wp-tab-overview)) > div:has(div[role="heading"]+g-scrolling-carousel)
      !!! Rich content in new "kp" layout
      google.*###kp-wp-tab-overview > div:has(g-more-link,g-section-with-header,#media_result_group)
  - params:
      page-footer: true
      related-searches: true
      also-search: true
    output: |
      google.*###botstuff #bres
      google.*###rso div.g div[jscontroller][id^="eob_"]
      google.*###footcnt > #fbarcnt
  - params:
      similar-image-searches: true
    output: |
      google.*##div.isv-r[data-rfg]
  - params: {}
---

Google is adding more and more "contextual results" to its result page, with mixed usefulness. This filter will allow
you to selectively remove these from the results, to only focus on the links.

Don't hesitate to [open a issue](https://github.com/letsblockit/letsblockit/issues/new/choose) to suggest additions or fixes ;
and check out the [Hide websites from search results](search-results) filter too.
